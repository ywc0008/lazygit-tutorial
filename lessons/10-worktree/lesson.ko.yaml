id: worktree
title: "워크트리"
description: "git worktree를 사용해 여러 브랜치를 동시에 작업합니다"
difficulty: advanced
estimatedMinutes: 10

steps:
  - id: create-worktree
    instruction: |
      이 레슨에서는 git worktree를 만들어 브랜치 전환 없이
      여러 브랜치를 동시에 작업하는 방법을 배웁니다.

      레포지토리에 두 개의 브랜치가 있습니다:
        - main (현재): 메인 개발 브랜치
        - hotfix/urgent-bug: 긴급 수정용 브랜치

      보통은 hotfix 작업을 위해 브랜치를 전환해야 하지만,
      그러면 현재 작업이 중단됩니다. Worktree를 사용하면
      hotfix 브랜치를 별도의 디렉토리에 체크아웃해서
      두 브랜치를 동시에 작업할 수 있습니다.

      lazygit에서 worktree 생성하는 방법:
        1. Branches 패널로 이동 (숫자 3)
        2. "hotfix/urgent-bug"로 이동
        3. w를 눌러 해당 브랜치의 worktree 생성
        4. lazygit이 경로를 묻습니다 - 워크트리 디렉토리
           위치를 확인하거나 수정하세요
        5. 워크트리가 생성되어 별도 디렉토리에 브랜치가
           체크아웃됩니다

      Worktree의 장점:
        - 미완성 작업을 stash하거나 커밋할 필요 없음
        - 한 브랜치에서 빌드하면서 다른 브랜치 편집 가능
        - 긴급 수정 시 빠른 컨텍스트 전환
        - 각 worktree는 독립적인 작업 디렉토리를 가짐
        - lazygit에서 worktree 간 전환도 가능

      과제:
        "hotfix/urgent-bug" 브랜치의 worktree를 생성하세요.
        완료 후 `git worktree list`에 최소 2개의 워크트리
        (메인 + 새로 생성한 것)가 표시되어야 합니다.
    hints:
      - "숫자 3을 눌러 Branches 패널로 이동하세요"
      - "브랜치 목록에서 'hotfix/urgent-bug'로 이동하세요"
      - "w를 눌러 워크트리 생성 대화상자를 여세요"
      - "경로가 나오면 확인하여 워크트리를 생성하세요"
      - "생성 후 git worktree list에 2개 항목이 보여야 합니다"

  - id: remove-worktree
    instruction: |
      워크트리를 성공적으로 생성했습니다!

      hotfix 작업이 끝나면 더 이상 필요 없는 워크트리를 제거하여
      깔끔하게 정리해야 합니다. 사용하지 않는 워크트리를 남겨두면
      디스크 공간을 차지하고 혼란을 줄 수 있습니다.

      lazygit에서 워크트리 제거하는 방법:
        1. Branches 패널로 이동 (숫자 3)
        2. w를 눌러 워크트리 메뉴를 엽니다
        3. 제거할 워크트리를 선택
        4. d를 눌러 워크트리를 제거

      또는 터미널에서 직접 제거할 수 있습니다:
        git worktree remove <worktree-path>

      과제:
        생성한 워크트리를 제거하세요. 완료 후
        `git worktree list`에 메인 워크트리 1개만
        표시되어야 합니다.
    hints:
      - "Branches 패널에서 w를 눌러 워크트리 목록을 확인하세요"
      - "제거할 워크트리를 선택하고 d를 누르세요"
      - "또는 터미널에서 git worktree remove 명령을 사용하세요"
      - "완료 후 git worktree list에 1개만 남아야 합니다"
